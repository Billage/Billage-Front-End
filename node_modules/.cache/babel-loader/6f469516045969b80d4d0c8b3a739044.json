{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sycho\\\\Desktop\\\\billage\\\\Front-End\\\\src\\\\components\\\\MainBoards.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport BoardNav from './BoardNav';\nimport styled from \"styled-components\";\nimport axios from 'axios';\nimport PostComponent from './PostComponent';\nimport PostComponent2 from './PostComponent2';\nimport { Link } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport '../App.css';\nimport { Layout, Menu, Button } from 'antd';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, UserOutlined, VideoCameraOutlined, UploadOutlined, AppstoreTwoTone, getTwoToneColor, setTwoToneColor, RightCircleTwoTone, LeftCircleTwoTone, EditOutlined, ScissorOutlined, HeartOutlined, NotificationOutlined, TeamOutlined, CommentOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nsetTwoToneColor('#EBCAFD');\nconst {\n  Header,\n  Sider,\n  Content\n} = Layout; //검색박스 전체 (회색 둥글둥글 모양) 스타일링입니다.\n\nconst SearchBox = styled.div`\n    position:relative;\n    background-color:#E5E5E5;\n    border-radius:20px;\n    margin:-15px 15px 10px 15px;\n    padding:5px 5px 5px 20px;\n    height:25px;\n    display:flex;\n    align-items:center;\n    justify-content:flex-end;\n    `; //위의 검색박스 내의 input 창 스타일링입니다.\n\n_c = SearchBox;\nconst Input = styled.input`\n    width:95%;\n    outline:none;\n    border:none;\n    border-radius:20px;\n    height:25px;\n    background:none;\n`; //이미지 태그 (각 버튼들에 들어가는 아이콘) 대신 쓰는 component입니다.\n\n_c2 = Input;\nexport const Img = styled.img`\n    max-width: 100%;\n    height:auto;\n`; //각 버튼들 (글 등록, )\n\n_c3 = Img;\nconst StyledButton = styled.button`\n    border:none;\n    margin:2px;\n    background:none;\n    height:30px;\n    width:30px;\n    padding-top:5px;\n    background:none;\n    color:#7D7D7D;\n    font-weight:bold;\n`; //게시글 리스트 component입니다.\n\n_c4 = StyledButton;\nconst List = styled.div`\n    font-family:'KoddiUDOnGothic-Regular';\n`; //메뉴 스타일\n\n_c5 = List;\nconst MenuStyled = styled.div`\n    display:flex;\n    justify-content:space-evenly;\n    \n`; //스크롤 할때 상단 고정\n\n_c6 = MenuStyled;\nconst PageStyled = styled.div`\n    position: sticky;\n    top: 0px;\n    z-index: 1;\n    background-color: white;\n`; //메뉴바\n\n_c7 = PageStyled;\nconst MBar = styled(Menu)`\n// .ant-menu > .ant-menu-item:hover,\n// .ant-menu > .ant-menu-submenu:hover,\n// .ant-menu > .ant-menu-item-active,\n// .ant-menu> .ant-menu-submenu-active,\n// .ant-menu > .ant-menu-item-open,\n// .ant-menu> .ant-menu-submenu-open,\n// .ant-menu > .ant-menu-item-selected,\n// .ant-menu > .ant-menu-submenu-selected {\n//   color: red;\n//   border-bottom: 2px solid red;\n// }\n.ant-menu-item-selected {\n    background-color:  #EBCAFD !important;\n    color: #ffffff;\n  }\n  .ant-menu-item:hover {\n    background-color:  #EBCAFD !important;\n    color: #ffffff;\n  }\n  .ant-menu-item-active {\n    background-color:  #EBCAFD !important;\n    color: #ffffff;\n  }\n  .ant-menu-item-open{\n    background-color:  #EBCAFD !important;\n    color: #ffffff;\n  }\n  .ant-menu-item-selected::after {\n    border-right: 2px solid #A352CC;\n  }\n  .ant-menu-title-content>a{\n      &:hover{\n      color:#ffffff;\n      }\n  }\n  \n`; // 변경 ---------------------------------------------------\n// 로그인 상태를 서버에서 구분 후, 그에 맞는 게시글을 클라이언트로 전송\n\n_c8 = MBar;\n\nconst BorrowBoard = () => {\n  _s();\n\n  const [login, setLogin] = useState(''); // 현재 로그인 상태\n\n  const [showAddress, setShowAddress] = useState(''); //현재 사용자의 주소\n\n  const [searchText, setSearchText] = useState(''); //검색 input 창에 입력되는 text\n\n  const [lendYouList, setLendYouList] = useState([]); //빌려줄게요 리스트. 백엔드에서 가져온 데이터 담는 배열\n\n  const [borrowMeList, setBorrowMeList] = useState([]); //빌려주세요 리스트\n\n  const [fontStyle1, setFontStyle1] = useState({\n    color: \"black\",\n    fontWeight: \"bold\"\n  });\n  const [fontStyle2, setFontStyle2] = useState({\n    color: \"gray\"\n  });\n  const [lendBtn, setLendBtn] = useState(true); //현재 빌려줄게요 게시판인지 확인\n\n  const [borrowBtn, setBorrowBtn] = useState(false); //현재 빌려주세요 게시판인지 확인\n\n  const [search, setSearch] = useState(false); //검색 버튼이 눌렸는지 확인하는 변수\n\n  const [filteredPost, setFilteredPost] = useState([]); //검색한 post 를 담는 배열\n\n  const onClickMenu1 = e => {\n    e.preventDefault();\n    setFontStyle1({\n      color: \"black\",\n      fontWeight: \"bold\"\n    });\n    setFontStyle2({\n      color: \"gray\"\n    });\n    setLendBtn(true);\n    setBorrowBtn(false);\n    setSearch(false);\n  };\n\n  const onClickMenu2 = e => {\n    e.preventDefault();\n    setFontStyle1({\n      color: \"gray\"\n    });\n    setFontStyle2({\n      color: \"black\",\n      fontWeight: \"bold\"\n    });\n    setBorrowBtn(true);\n    setLendBtn(false);\n    setSearch(false);\n  }; //메뉴버튼 여닫는 toggle 관련 버튼\n\n\n  const [collapsed, setCollpased] = useState(true);\n\n  const toggle = () => {\n    setCollpased(!collapsed);\n  }; // 유저 정보 가져오기\n\n\n  const getUser = () => {\n    return axios.get(\"http://localhost:7000/auth\", {\n      withCredentials: true\n    });\n  }; // 빌려줄게요 게시글 가져오기\n\n\n  const getLendYou = () => {\n    return axios.get(\"http://localhost:7000/post/lend\", {\n      withCredentials: true\n    });\n  }; // 빌려주세요 게시글 가져오기\n\n\n  const getBorrowMe = () => {\n    return axios.get(\"http://localhost:7000/post/borrow\", {\n      withCredentials: true\n    });\n  }; //각 게시판의 글을 가져올때 사용하는 통신입니다.\n\n\n  useEffect(() => {\n    //처음 페이지가 실행될 때, 로그인 상태바뀔때, 사용자 주소 바뀔때 실행됨\n    axios.all([getLendYou(), getBorrowMe(), getUser()]) // axios.all로 여러 개의 request를 보내고\n    .then(axios.spread((lendResp, borrowResp, user) => {\n      // response를 spread로 받는다. \n      setLendYouList(lendResp.data);\n      setBorrowMeList(borrowResp.data);\n\n      if (user.data) {\n        setShowAddress(user.data.address);\n        setLogin(true);\n      } else {\n        setLogin(false);\n      }\n    })).catch(error => {\n      console.error(error);\n    });\n  }, []); // ---------------------------------------------------\n\n  const searchChange = e => {\n    //검색창에 text 입력했을 때 입력한 text를 검색 text에 넣어줌\n    setSearchText(e.target.value);\n  };\n\n  const btnClick = () => {\n    //검색창 버튼 클릭했을 때 뜨는 버튼\n    //filtered: 검색 결과 게시물들이 담기는 배열\n    if (lendBtn) {\n      const filtered = lendYouList.filter(post => post.email.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\n      setFilteredPost(filtered);\n      console.log(filtered);\n    } else {\n      const filtered = borrowMeList.filter(post => post.email.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\n      setFilteredPost(filtered);\n      console.log(filtered);\n    }\n\n    setSearchText('');\n    setSearch(true);\n  };\n\n  const onKeyPress = e => {\n    if (e.key === 'Enter') {\n      btnClick();\n    }\n  };\n\n  const numberWithCommas = x => {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Sider, {\n        trigger: null,\n        collapsible: true,\n        collapsed: collapsed,\n        style: {\n          background: '#ffffff',\n          height: '100'\n        },\n        children: /*#__PURE__*/_jsxDEV(MBar, {\n          mode: \"inline\",\n          style: {\n            color: '#7D7D7D'\n          },\n          children: !login ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 37\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"http://localhost:7000/auth/logout\",\n                children: \" \\uB85C\\uADF8\\uC544\\uC6C3 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 12\n              }, this)\n            }, \"1\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(ScissorOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 38\n              }, this),\n              children: \"\\uB0B4 \\uC815\\uBCF4 \\uC218\\uC815\"\n            }, \"2\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 38\n              }, this),\n              children: \"\\uAC8C\\uC2DC\\uAE00 \\uC791\\uC131\"\n            }, \"3\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(CommentOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 38\n              }, this),\n              children: \"\\uB0B4 \\uCABD\\uC9C0\\uD568\"\n            }, \"4\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(HeartOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 38\n              }, this),\n              children: \"\\uB0B4\\uAC00 \\uCC1C\\uD55C \\uBB3C\\uD488\"\n            }, \"5\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 36\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/login\",\n                children: \"\\uB85C\\uADF8\\uC778 / \\uD68C\\uC6D0\\uAC00\\uC785\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 11\n              }, this)\n            }, \"1\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(TeamOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 38\n              }, this),\n              children: \"About Billage\"\n            }, \"6\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        className: \"site-layout\",\n        children: [/*#__PURE__*/_jsxDEV(BoardNav, {\n          showAddress: showAddress,\n          login: login,\n          boardName: \"\\uAC8C\\uC2DC\\uD310\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          className: \"site-layout-background\",\n          style: {\n            position: 'absolute',\n            top: '10px',\n            padding: '20px',\n            background: '#ffffff',\n            fontSize: '30px'\n          },\n          children: /*#__PURE__*/React.createElement(collapsed ? LeftCircleTwoTone : RightCircleTwoTone, {\n            className: 'trigger',\n            onClick: toggle\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          className: \"site-layout-background\",\n          style: {\n            position: 'sticky',\n            top: '0px',\n            zIndex: 1,\n            backgroundColor: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PageStyled, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                value: searchText,\n                onChange: searchChange,\n                onKeyPress: onKeyPress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 9\n              }, this), searchText && /*#__PURE__*/_jsxDEV(StyledButton, {\n                onClick: btnClick,\n                color: \"#E5E5E5\",\n                children: /*#__PURE__*/_jsxDEV(Img, {\n                  src: \"img/search.png\",\n                  alt: \"\\uAC80\\uC0C9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 71\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(MenuStyled, {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                onClick: onClickMenu1,\n                style: fontStyle1,\n                children: \"\\uBE4C\\uB824\\uC904\\uAC8C\\uC694\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                onClick: onClickMenu2,\n                style: fontStyle2,\n                children: \"\\uBE4C\\uB824\\uC8FC\\uC138\\uC694\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            children: [!search && lendBtn && lendYouList.map(data => {\n              //빌려줄게요 게시판 \n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: `post/${data.id}`,\n                children: /*#__PURE__*/_jsxDEV(PostComponent2, {\n                  image: data.img,\n                  title: data.title,\n                  postDate: data.date,\n                  writerAddress: data.address,\n                  startDate: data.start_date,\n                  endDate: data.end_date,\n                  cost: numberWithCommas(Number(data.price))\n                }, data.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this);\n            }), search && lendBtn && filteredPost.map(data => {\n              //빌려줄게요 게시판에서 검색\n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: `post/${data.id}`,\n                children: /*#__PURE__*/_jsxDEV(PostComponent2, {\n                  image: data.img,\n                  title: data.title,\n                  postDate: data.date,\n                  writerAddress: data.address,\n                  startDate: data.start_date,\n                  endDate: data.end_date,\n                  cost: numberWithCommas(Number(data.price))\n                }, data.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this);\n            }), !search && borrowBtn && borrowMeList.map(data => {\n              //빌려주세요 게시판\n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: `post/${data.id}`,\n                children: /*#__PURE__*/_jsxDEV(PostComponent, {\n                  title: data.title,\n                  postDate: data.date,\n                  writerAddress: data.address,\n                  startDate: data.start_date,\n                  endDate: data.end_date,\n                  cost: numberWithCommas(Number(data.price))\n                }, data.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this);\n            }), search && borrowBtn && filteredPost.map(data => {\n              //빌려주세요 게시판에서 검색\n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: `post/${data.id}`,\n                children: /*#__PURE__*/_jsxDEV(PostComponent, {\n                  title: data.title,\n                  postDate: data.date,\n                  writerAddress: data.address,\n                  startDate: data.start_date,\n                  endDate: data.end_date,\n                  cost: numberWithCommas(Number(data.price))\n                }, data.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BorrowBoard, \"NLT8Gx0b7mBZvxIzkEKO4bDfOUE=\");\n\n_c9 = BorrowBoard;\nexport default BorrowBoard;\nexport { StyledButton };\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"SearchBox\");\n$RefreshReg$(_c2, \"Input\");\n$RefreshReg$(_c3, \"Img\");\n$RefreshReg$(_c4, \"StyledButton\");\n$RefreshReg$(_c5, \"List\");\n$RefreshReg$(_c6, \"MenuStyled\");\n$RefreshReg$(_c7, \"PageStyled\");\n$RefreshReg$(_c8, \"MBar\");\n$RefreshReg$(_c9, \"BorrowBoard\");","map":{"version":3,"sources":["C:/Users/sycho/Desktop/billage/Front-End/src/components/MainBoards.jsx"],"names":["React","useState","useEffect","BoardNav","styled","axios","PostComponent","PostComponent2","Link","ReactDOM","Layout","Menu","Button","MenuUnfoldOutlined","MenuFoldOutlined","UserOutlined","VideoCameraOutlined","UploadOutlined","AppstoreTwoTone","getTwoToneColor","setTwoToneColor","RightCircleTwoTone","LeftCircleTwoTone","EditOutlined","ScissorOutlined","HeartOutlined","NotificationOutlined","TeamOutlined","CommentOutlined","Header","Sider","Content","SearchBox","div","Input","input","Img","img","StyledButton","button","List","MenuStyled","PageStyled","MBar","BorrowBoard","login","setLogin","showAddress","setShowAddress","searchText","setSearchText","lendYouList","setLendYouList","borrowMeList","setBorrowMeList","fontStyle1","setFontStyle1","color","fontWeight","fontStyle2","setFontStyle2","lendBtn","setLendBtn","borrowBtn","setBorrowBtn","search","setSearch","filteredPost","setFilteredPost","onClickMenu1","e","preventDefault","onClickMenu2","collapsed","setCollpased","toggle","getUser","get","withCredentials","getLendYou","getBorrowMe","all","then","spread","lendResp","borrowResp","user","data","address","catch","error","console","searchChange","target","value","btnClick","filtered","filter","post","email","toLowerCase","indexOf","log","onKeyPress","key","numberWithCommas","x","toString","replace","background","height","position","top","padding","fontSize","createElement","className","onClick","zIndex","backgroundColor","map","id","title","date","start_date","end_date","Number","price"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport BoardNav from './BoardNav';\r\nimport styled from \"styled-components\";\r\nimport axios from 'axios';\r\nimport PostComponent from './PostComponent';\r\nimport PostComponent2 from './PostComponent2';\r\nimport { Link } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport '../index.css';\r\nimport '../App.css';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  UploadOutlined,\r\n  AppstoreTwoTone,\r\n  getTwoToneColor, setTwoToneColor,\r\n  RightCircleTwoTone,\r\n  LeftCircleTwoTone,\r\n  EditOutlined,\r\n  ScissorOutlined,\r\n  HeartOutlined,\r\n  NotificationOutlined,\r\n  TeamOutlined,\r\n  CommentOutlined \r\n} from '@ant-design/icons';\r\nsetTwoToneColor('#EBCAFD');\r\nconst { Header, Sider, Content } = Layout;\r\n//검색박스 전체 (회색 둥글둥글 모양) 스타일링입니다.\r\nconst SearchBox=styled.div`\r\n    position:relative;\r\n    background-color:#E5E5E5;\r\n    border-radius:20px;\r\n    margin:-15px 15px 10px 15px;\r\n    padding:5px 5px 5px 20px;\r\n    height:25px;\r\n    display:flex;\r\n    align-items:center;\r\n    justify-content:flex-end;\r\n    `;\r\n//위의 검색박스 내의 input 창 스타일링입니다.\r\nconst Input=styled.input`\r\n    width:95%;\r\n    outline:none;\r\n    border:none;\r\n    border-radius:20px;\r\n    height:25px;\r\n    background:none;\r\n`;\r\n//이미지 태그 (각 버튼들에 들어가는 아이콘) 대신 쓰는 component입니다.\r\nexport const Img=styled.img`\r\n    max-width: 100%;\r\n    height:auto;\r\n`;\r\n//각 버튼들 (글 등록, )\r\nconst StyledButton=styled.button`\r\n    border:none;\r\n    margin:2px;\r\n    background:none;\r\n    height:30px;\r\n    width:30px;\r\n    padding-top:5px;\r\n    background:none;\r\n    color:#7D7D7D;\r\n    font-weight:bold;\r\n`;\r\n//게시글 리스트 component입니다.\r\nconst List=styled.div`\r\n    font-family:'KoddiUDOnGothic-Regular';\r\n`;\r\n//메뉴 스타일\r\nconst MenuStyled=styled.div`\r\n    display:flex;\r\n    justify-content:space-evenly;\r\n    \r\n`;\r\n//스크롤 할때 상단 고정\r\nconst PageStyled=styled.div`\r\n    position: sticky;\r\n    top: 0px;\r\n    z-index: 1;\r\n    background-color: white;\r\n`;\r\n//메뉴바\r\nconst MBar = styled(Menu)`\r\n// .ant-menu > .ant-menu-item:hover,\r\n// .ant-menu > .ant-menu-submenu:hover,\r\n// .ant-menu > .ant-menu-item-active,\r\n// .ant-menu> .ant-menu-submenu-active,\r\n// .ant-menu > .ant-menu-item-open,\r\n// .ant-menu> .ant-menu-submenu-open,\r\n// .ant-menu > .ant-menu-item-selected,\r\n// .ant-menu > .ant-menu-submenu-selected {\r\n//   color: red;\r\n//   border-bottom: 2px solid red;\r\n// }\r\n.ant-menu-item-selected {\r\n    background-color:  #EBCAFD !important;\r\n    color: #ffffff;\r\n  }\r\n  .ant-menu-item:hover {\r\n    background-color:  #EBCAFD !important;\r\n    color: #ffffff;\r\n  }\r\n  .ant-menu-item-active {\r\n    background-color:  #EBCAFD !important;\r\n    color: #ffffff;\r\n  }\r\n  .ant-menu-item-open{\r\n    background-color:  #EBCAFD !important;\r\n    color: #ffffff;\r\n  }\r\n  .ant-menu-item-selected::after {\r\n    border-right: 2px solid #A352CC;\r\n  }\r\n  .ant-menu-title-content>a{\r\n      &:hover{\r\n      color:#ffffff;\r\n      }\r\n  }\r\n  \r\n`;\r\n\r\n\r\n// 변경 ---------------------------------------------------\r\n// 로그인 상태를 서버에서 구분 후, 그에 맞는 게시글을 클라이언트로 전송\r\nconst BorrowBoard=()=>{\r\n    const [login, setLogin]=useState(''); // 현재 로그인 상태\r\n    const [showAddress, setShowAddress]=useState(''); //현재 사용자의 주소\r\n    const [searchText,setSearchText]=useState(''); //검색 input 창에 입력되는 text\r\n    const [lendYouList,setLendYouList]=useState([]); //빌려줄게요 리스트. 백엔드에서 가져온 데이터 담는 배열\r\n    const [borrowMeList,setBorrowMeList]=useState([]); //빌려주세요 리스트\r\n\r\n    const [fontStyle1, setFontStyle1]=useState({color: \"black\", fontWeight:\"bold\"});\r\n    const [fontStyle2, setFontStyle2]=useState({color: \"gray\"});\r\n    const [lendBtn,setLendBtn]=useState(true); //현재 빌려줄게요 게시판인지 확인\r\n    const [borrowBtn,setBorrowBtn]=useState(false); //현재 빌려주세요 게시판인지 확인\r\n    const [search,setSearch]=useState(false); //검색 버튼이 눌렸는지 확인하는 변수\r\n    const [filteredPost,setFilteredPost]=useState([]); //검색한 post 를 담는 배열\r\n    \r\n    const onClickMenu1 = (e) => {e.preventDefault(); setFontStyle1({color: \"black\", fontWeight:\"bold\"}); setFontStyle2({color: \"gray\"}); \r\n    setLendBtn(true); setBorrowBtn(false); setSearch(false); };\r\n    const onClickMenu2 = (e) => {e.preventDefault(); setFontStyle1({color: \"gray\"}); setFontStyle2({color: \"black\",  fontWeight:\"bold\"});\r\n    setBorrowBtn(true);  setLendBtn(false); setSearch(false); };\r\n    //메뉴버튼 여닫는 toggle 관련 버튼\r\n    const [collapsed,setCollpased] = useState(true); \r\n    const toggle=()=>{\r\n        setCollpased(!collapsed);\r\n    };\r\n    // 유저 정보 가져오기\r\n    const getUser = () => {\r\n        return axios.get(\"http://localhost:7000/auth\", { withCredentials: true })\r\n    };\r\n    // 빌려줄게요 게시글 가져오기\r\n    const getLendYou = () => {\r\n        return axios.get(\"http://localhost:7000/post/lend\", { withCredentials: true })\r\n    };\r\n    // 빌려주세요 게시글 가져오기\r\n    const getBorrowMe = () => {\r\n        return axios.get(\"http://localhost:7000/post/borrow\", { withCredentials: true })\r\n    };\r\n    //각 게시판의 글을 가져올때 사용하는 통신입니다.\r\n    useEffect(() => {  //처음 페이지가 실행될 때, 로그인 상태바뀔때, 사용자 주소 바뀔때 실행됨\r\n        axios.all([getLendYou(), getBorrowMe(), getUser()]) // axios.all로 여러 개의 request를 보내고\r\n            .then(axios.spread((lendResp , borrowResp, user) => { // response를 spread로 받는다. \r\n                setLendYouList(lendResp.data);\r\n                setBorrowMeList(borrowResp.data);\r\n                if(user.data) {\r\n                    setShowAddress(user.data.address);\r\n                    setLogin(true);\r\n                } else {\r\n                    setLogin(false);\r\n                }\r\n            }))\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n    }, []);\r\n    // ---------------------------------------------------\r\n    const searchChange=(e)=>{//검색창에 text 입력했을 때 입력한 text를 검색 text에 넣어줌\r\n        setSearchText(e.target.value);\r\n    };\r\n\r\n    const btnClick=()=>{ //검색창 버튼 클릭했을 때 뜨는 버튼\r\n        //filtered: 검색 결과 게시물들이 담기는 배열\r\n        if(lendBtn){\r\n            const filtered = lendYouList.filter((post) =>\r\n                post.email.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\r\n            setFilteredPost(filtered);\r\n        console.log(filtered);\r\n        } else{\r\n            const filtered = borrowMeList.filter((post) =>\r\n                post.email.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\r\n            setFilteredPost(filtered);\r\n            console.log(filtered);\r\n        }\r\n        setSearchText('');\r\n        setSearch(true);\r\n    };\r\n\r\n    const onKeyPress=(e)=>{\r\n        if(e.key ==='Enter'){\r\n            btnClick();\r\n        }\r\n    };\r\n\r\n    const numberWithCommas=(x)=> {\r\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n    return(\r\n    <div>\r\n          <Layout>\r\n        <Sider trigger={null} collapsible collapsed={collapsed} style={{background:'#ffffff', height:'100'}}>\r\n          <MBar  mode=\"inline\" style={{color:'#7D7D7D'}}>\r\n          {!login ? \r\n          <>\r\n           <Menu.Item key=\"1\" icon={<UserOutlined />} >\r\n           <a href=\"http://localhost:7000/auth/logout\"> 로그아웃 </a>\r\n           {/* <Link to=\"/auth/logout\">로그아웃</Link> */}\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" icon={<ScissorOutlined />}>\r\n             내 정보 수정\r\n            </Menu.Item>\r\n            <Menu.Item key=\"3\" icon={<EditOutlined />}>\r\n              게시글 작성\r\n            </Menu.Item>\r\n            <Menu.Item key=\"4\" icon={<CommentOutlined />}>\r\n             내 쪽지함\r\n            </Menu.Item>\r\n            <Menu.Item key=\"5\" icon={<HeartOutlined />}>\r\n            내가 찜한 물품\r\n            </Menu.Item>\r\n            </>\r\n          : <>\r\n          <Menu.Item key=\"1\" icon={<UserOutlined />}  >\r\n          <a href = \"/login\" >로그인 / 회원가입</a> \r\n           </Menu.Item>\r\n            <Menu.Item key=\"6\" icon={<TeamOutlined />}>\r\n             About Billage\r\n            </Menu.Item>\r\n           </>}  \r\n           \r\n          </MBar>\r\n        </Sider>\r\n        <Layout className=\"site-layout\">\r\n        <BoardNav showAddress={showAddress} login={login} boardName=\"게시판\"/>    \r\n        <Header className=\"site-layout-background\" style={{ position:'absolute', top:'10px', padding: '20px', background:'#ffffff',  fontSize:'30px' }}>\r\n            {React.createElement(collapsed ? LeftCircleTwoTone : RightCircleTwoTone, {\r\n              className: 'trigger',\r\n              onClick: toggle,\r\n            })}\r\n          </Header>\r\n          <Content\r\n            className=\"site-layout-background\"\r\n            style={{position: 'sticky',\r\n                top: '0px',\r\n                zIndex: 1,\r\n                backgroundColor: 'white'}}\r\n          >\r\n           <PageStyled>\r\n        <br/>\r\n        <SearchBox>\r\n        <Input value={searchText} onChange={searchChange} onKeyPress={onKeyPress}/>\r\n        {searchText&&<StyledButton onClick={btnClick} color=\"#E5E5E5\"><Img src=\"img/search.png\" alt=\"검색\"/></StyledButton>}\r\n        {/* 검색창에 입력된 text 내용이 있을 경우 검색 버튼이 활성화됩니다. */}\r\n        </SearchBox>\r\n        <MenuStyled>\r\n        <a href=\"/\" onClick={onClickMenu1} style={fontStyle1}>빌려줄게요</a>\r\n        <a href=\"/\" onClick={onClickMenu2} style={fontStyle2}>빌려주세요</a>\r\n        </MenuStyled>\r\n        <hr></hr>\r\n    </PageStyled>\r\n    <List>\r\n    {(!search&&lendBtn)&&lendYouList.map((data) => { //빌려줄게요 게시판 \r\n        return (<Link to={`post/${data.id}`}>\r\n        <PostComponent2\r\n            image={data.img}\r\n            title={data.title}\r\n            postDate={data.date} \r\n            writerAddress={data.address} \r\n            startDate={data.start_date}\r\n            endDate={data.end_date}\r\n            cost={numberWithCommas(Number(data.price))}\r\n            key={data.id}\r\n            /></Link>);\r\n        }\r\n    )}\r\n    {(search&&lendBtn)&&filteredPost.map((data)=>{ //빌려줄게요 게시판에서 검색\r\n        return (<Link to={`post/${data.id}`}>\r\n        <PostComponent2\r\n            image={data.img}\r\n            title={data.title}\r\n            postDate={data.date} \r\n            writerAddress={data.address}  \r\n            startDate={data.start_date}\r\n            endDate={data.end_date}\r\n            cost={numberWithCommas(Number(data.price))}\r\n            key={data.id}\r\n            /></Link>);\r\n        }\r\n    )}\r\n    {(!search&&borrowBtn)&&borrowMeList.map((data)=> { //빌려주세요 게시판\r\n        return (<Link to={`post/${data.id}`}>\r\n        <PostComponent\r\n            title={data.title}\r\n            postDate={data.date} \r\n            writerAddress={data.address} \r\n            startDate={data.start_date}\r\n            endDate={data.end_date}\r\n            cost={numberWithCommas(Number(data.price))}\r\n            key={data.id}\r\n            /></Link>); \r\n        }\r\n    )}\r\n    {(search&&borrowBtn)&&filteredPost.map((data)=>{ //빌려주세요 게시판에서 검색\r\n        return (<Link to={`post/${data.id}`}>\r\n        <PostComponent\r\n            title={data.title}\r\n            postDate={data.date} \r\n            writerAddress={data.address} \r\n            startDate={data.start_date}\r\n            endDate={data.end_date}\r\n            cost={numberWithCommas(Number(data.price))}\r\n            key={data.id}\r\n            /></Link>);\r\n        }\r\n    )}\r\n    </List>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    \r\n    </div>\r\n    );\r\n};\r\n\r\nexport default BorrowBoard;\r\nexport {StyledButton};"]},"metadata":{},"sourceType":"module"}